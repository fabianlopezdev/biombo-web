---
import SingleProjectLayout from '@/layouts/pages/SingleProjectLayout.astro'
import { fetchProjectsByLocale } from '@/shared/lib/sanity/queries/projectQueries'

export const prerender = true

export async function getStaticPaths() {
  const projects = await fetchProjectsByLocale('ca')
  return projects.map((project) => ({
    params: { slug: project.slug.current },
    props: { slug: project.slug.current },
  }))
}

const { slug } = Astro.props
const locale = 'ca'
---

<SingleProjectLayout {slug} {locale} />
