---
import PageLayoutRouter from '@/helpers/routing/PageLayoutRouter.astro'
import { getLayoutForOtherLanguagePage } from '@/config/routing/pageRoutes'

// SSR mode - no prerendering, fetches fresh data on each request
const lang = Astro.params.lang as string
const page = Astro.params.pages as string
const locale = lang
const layout = getLayoutForOtherLanguagePage(lang, page)

// Handle invalid routes
if (!layout) {
  return Astro.redirect('/404')
}
---

<PageLayoutRouter {layout} {locale} />
