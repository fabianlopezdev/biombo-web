---
import Homepage from '@/layouts/HomepageLayout.astro'
import { fetchHomePageByLocale } from '@/shared/lib/sanity/queries/homePageQueries'
import type { HomePage } from '@/shared/schemas/sanity/homePageSchema'

// This is the Spanish index.astro file
const locale = 'es'

// Fetch homepage data from Sanity
let homePageData: HomePage | null = null

try {
  homePageData = await fetchHomePageByLocale(locale)
  console.log('Spanish homePageData after fetch:', homePageData)
} catch (error) {
  console.error('Error fetching Spanish homepage data:', error)
}
---

<Homepage locale={locale} homePageData={homePageData} />
