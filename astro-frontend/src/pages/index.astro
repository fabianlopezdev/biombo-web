---
import HomepageLayout from '@/layouts/HomepageLayout.astro'
import { fetchHomePageByLocale } from '@/shared/lib/sanity/queries/homePageQueries'
import type { HomePage } from '@/shared/schemas/sanity/homePageSchema'

// This is the root index.astro file (Catalan)
const locale = 'ca' // Default locale is Catalan

// Fetch homepage data from Sanity
let homePageData: HomePage | null = null

try {
  homePageData = await fetchHomePageByLocale(locale)
} catch {
  // Error fetching homepage data
}
---

<HomepageLayout locale={locale} homePageData={homePageData} />
