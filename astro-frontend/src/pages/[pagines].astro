---
import PageLayoutRouter from '@/helpers/routing/PageLayoutRouter.astro'
import { getLayoutForCatalanPage } from '@/config/routing/pageRoutes'

// SSR mode - no prerendering, fetches fresh data on each request
const pagina = Astro.params.pagines as string
const locale = 'ca'
const layout = getLayoutForCatalanPage(pagina)

// Handle invalid routes
if (!layout) {
  return Astro.redirect('/404')
}
---

<PageLayoutRouter {layout} {locale} />
