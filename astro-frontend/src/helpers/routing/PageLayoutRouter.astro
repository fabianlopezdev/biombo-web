---
// Page Layout Router - Routes dynamic pages to their appropriate layouts
// This component handles the mapping between route names and layout components
import AboutUsLayout from '@/layouts/pages/AboutUS.astro'
import ServicesLayout from '@/layouts/pages/Services.astro'
import ContactLayout from '@/layouts/pages/Contact.astro'
import LegalPageLayout from '@/layouts/pages/LegalPage.astro'
import ProjectsPageWrapper from '@/helpers/routing/ProjectsPageWrapper.astro'
import type { PageLayout } from '@/config/routing/pageRoutes'

export interface Props {
  layout: PageLayout | null
  locale: string
}

const { layout, locale } = Astro.props

// Map layout names to actual components
const layoutComponents: Record<string, any> = {
  AboutUs: AboutUsLayout,
  Services: ServicesLayout,
  Contact: ContactLayout,
  LegalPage: LegalPageLayout,
  ProjectsPageWrapper: ProjectsPageWrapper,
}

// Get the component for this layout
const LayoutComponent = layout ? layoutComponents[layout] : null

// Return 404 if no layout found
if (!LayoutComponent) {
  return new Response(null, { status: 404, statusText: 'Not found' })
}
---

<LayoutComponent {locale} />
