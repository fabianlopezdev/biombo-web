---
import OptimizedImage from '@/components/shared/OptimizedImage.astro'
import { getLocalizedAlt } from '@/helpers/i18n/helpers'
import type { SupportedLanguage } from '@/config/routing/urlMappings'

interface Props {
  image: any
  locale?: SupportedLanguage
}

const { image, locale = (Astro.currentLocale as SupportedLanguage) || 'ca' } = Astro.props

// Get localized alt text, falling back to empty string for decorative images
const altText = getLocalizedAlt(image, locale, '')
---

{/* Using OptimizedImage with blur hash support */}
<OptimizedImage
  src={image.asset.url}
  alt={altText}
  style="border-start-start-radius: 0.621875rem; border-end-start-radius: 0.621875rem;"
  class="slider__img"
  image={image}
  width={image.asset.metadata?.dimensions.width ?? 600}
  height={image.asset.metadata?.dimensions.height ?? 800}
  loading="lazy"
/>

<style>
  .slider__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
</style>
